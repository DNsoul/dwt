(this["webpackJsonpdont-watch-together"]=this["webpackJsonpdont-watch-together"]||[]).push([[0],{115:function(e,t,a){e.exports=a.p+"static/media/4.f8964c90.wav"},146:function(e,t,a){e.exports=a(190)},184:function(e,t){},190:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),i=a(53),o=a(19),l=a(60),u={url:"https://www.youtube.com/embed/LpxyH7nQA1E",list:{},parameters:{search:"",category:"/movies",page:1},loading:!0,isOpenMenu:!1,isOpenName:!0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_SET":return Object.assign({},e,{list:t.payload},{loading:!1});case"PARAMETER_SET":return Object.assign({},e,{parameters:t.payload},{loading:!0});case"URL_SET":return Object.assign({},e,{url:t.payload});case"TOGGLE_MENU":return Object.assign({},e,{isOpenMenu:!e.isOpenMenu});case"TOGGLE_NAME":return Object.assign({},e,{isOpenName:!e.isOpenName});default:return e}},p=Object(l.b)(m),h=a(26),f=a(109),d=a.n(f),g=a(123),v=a(260),E=a(21),b=a(245),y=a(246),O=a(54),k=a(247),j=a(244),w=a(241),x=a(118),M=a.n(x),S=a(129),_=a(116),C=a.n(_),T=a(117),N=a.n(T),U=function(e){return{type:"PARAMETER_SET",payload:e}},L=a(131),D=a(192),B=a(193),R=a(242),G=a(243),I=a(111),A=a.n(I),P=a(112),W=a.n(P),z=a(110),F=a.n(z),V=a(265),J=a(239),K=a(240);var q=function(e){var t=e.io,a=Object(n.useState)([]),c=Object(E.a)(a,2),s=c[0],i=c[1];Object(n.useEffect)((function(){t.receiveUserList(o)}),[]);var o=function(e){i(e)};return r.a.createElement("div",null,r.a.createElement(V.a,{square:!0,style:{overflow:"hidden"}},r.a.createElement(J.a,{expandIcon:r.a.createElement(F.a,null),"aria-controls":"panel1a-content",id:"panel1a-header",style:{margin:0}},r.a.createElement(O.a,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438:")),r.a.createElement(K.a,{style:{margin:0,padding:0}},r.a.createElement(w.a,{style:{width:"100%"}},s.map((function(e,t){return r.a.createElement(B.a,{key:t,style:{paddingTop:0,paddingBottom:0}},r.a.createElement(R.a,{primary:e.name}),r.a.createElement(G.a,null,e.host?r.a.createElement(A.a,null):r.a.createElement(W.a,null)))}))))))},H=a(248);var Q=function(e){var t=e.message;return r.a.createElement(B.a,null,r.a.createElement(S.a,{style:{padding:"8px",width:"100%",wordBreak:"break-word"},elevation:3},r.a.createElement("span",{style:{color:"#B9B384"}},t.name),r.a.createElement("br",null),t.text))},Z=a(113),X=a.n(Z),Y=a(114),$=a(115),ee=a.n($),te=Object(j.a)((function(e){return{root:{flexGrow:1,height:"100%",display:"flex",flexDirection:"column"},title:{flexGrow:1},list:{overflow:"auto",height:"100%"},paper:{padding:"2px 8px",display:"flex",alignItems:"center"},divider:{height:28,margin:4},item:{overflowWrap:"break-word"}}}));var ae=function(e){var t=e.io,a=te(),c=Object(o.b)(),s=Object(n.useRef)(null),i=Object(n.useState)(""),l=Object(E.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)([]),h=Object(E.a)(p,2),f=h[0],d=h[1],g=Object(n.useState)(!0),v=Object(E.a)(g,2),j=v[0],x=v[1],_=Object(Y.a)(ee.a,{volume:.5}),T=Object(E.a)(_,1)[0];Object(n.useEffect)((function(){t.receiveMessageText(U),X.a.change((function(e,t){x("visible"===t)}))}),[]),Object(n.useEffect)((function(){j||T(),s.current.scrollIntoView({behavior:"smooth"})}),[f]);var U=function(e){d((function(t){return t.concat([e])}))},B=function(){t.sendMessageText(u),m("")};return r.a.createElement("div",{className:a.root},r.a.createElement(b.a,{position:"static"},r.a.createElement(y.a,null,r.a.createElement(O.a,{variant:"h6",className:a.title},"DWT v.987r"),r.a.createElement(k.a,{color:"inherit",onClick:function(){return c({type:"TOGGLE_NAME"})}},r.a.createElement(C.a,null)),r.a.createElement(k.a,{color:"inherit",onClick:function(){return c({type:"TOGGLE_MENU"})}},r.a.createElement(N.a,null)))),r.a.createElement(q,{io:t}),r.a.createElement(H.a,null),r.a.createElement("div",{className:a.list},r.a.createElement(w.a,{variant:"outlined"},f.map((function(e,t){return r.a.createElement(Q,{key:t,message:e})})),r.a.createElement("div",{ref:s}))),r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement(S.a,{className:a.paper},r.a.createElement(L.a,{onChange:function(e){return m(e.target.value)},onKeyPress:function(e){13===e.which&&u.trim().length>0&&B()},fullWidth:!0,value:u,size:"small",variant:"outlined",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."}),r.a.createElement(D.a,{onClick:B,type:"submit","aria-label":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},r.a.createElement(M.a,{fontSize:"small"})))))},ne=a(125),re=a(24),ce=a.n(re),se=a(47),ie=function e(){var t=this;Object(h.a)(this,e),this.api_token="?api_token=6VS6zpxngv3aZJ4z6EHiESmt4iNbCLkG",this.url="https://videocdn.tv/api",this.getResult=function(){var e=Object(se.a)(ce.a.mark((function e(a,n){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.url).concat(a).concat(t.api_token).concat(n));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ".concat(t.url," \n \u0441\u0442\u0430\u0442\u0443\u0441: ").concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getList=function(){var e=Object(se.a)(ce.a.mark((function e(a,n,r){var c,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="&page=".concat(r,"&query=").concat(a),e.next=3,t.getResult(n,c);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},oe=a(261),le=a(263);var ue=function(e){var t=e.shiftPage,a=e.last_page,n=e.currentPage;return r.a.createElement(oe.a,{style:{padding:"2vh 0"}},r.a.createElement(le.a,{page:n,color:"secondary",count:a,onChange:function(e,a){t(a)}}))},me=a(264),pe=a(262),he=a(251);var fe=function(e){var t=e.parameters,a=e.onChangeSearch,n=e.onChangeCategory,c=e.onChangeTypeAPI;return r.a.createElement("div",{style:{margin:"10px 10px",display:"flex",flexDirection:"column"}},r.a.createElement(pe.a,{style:{marginBottom:"10px"},defaultValue:"vcnd",onChange:function(e){return c(e.target.value)}},r.a.createElement(he.a,{value:"vcnd"},"VideoCND"),r.a.createElement(he.a,{value:"bazon"},"Bazon")),r.a.createElement(pe.a,{style:{marginBottom:"10px"},defaultValue:t.category,value:t.category,onChange:function(e){return n(e.target.value)}},r.a.createElement(he.a,{value:"/movies"},"\u0424\u0438\u043b\u044c\u043c\u044b"),r.a.createElement(he.a,{value:"/tv-series"},"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"),r.a.createElement(he.a,{value:"/animes"},"\u041f\u043e\u043b\u043d\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043d\u044b\u0435 \u0430\u043d\u0438\u043c\u0435"),r.a.createElement(he.a,{value:"/anime-tv-series"},"\u0421\u0435\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u0430\u043d\u0438\u043c\u0435"),r.a.createElement(he.a,{value:"/show-tv-series"},"\u0422\u0412 \u0428\u043e\u0443")),r.a.createElement(me.a,{size:"small",variant:"outlined",label:"\u041f\u043e\u0438\u0441\u043a",onKeyUp:function(e){13!==e.which&&0!==e.target.value.length||a(e.target.value)}}))},de=a(267);var ge=function(e){var t=e.selectUrl,a=e.title;return r.a.createElement(B.a,{button:!0,onClick:t},r.a.createElement(R.a,{primary:a}))},ve=a(253);var Ee=function(e){var t=e.loading,a=e.list,n=e.onChangeUrl,c=Object(j.a)((function(e){return{root:{overflow:"auto",flex:"auto"},progress:{margin:"150px",width:"70px",height:"70px"},list:{width:"350px",height:"100%",flex:"auto"}}}))();a=a.data||a.results;var s=t?r.a.createElement(ve.a,{className:c.progress,color:"secondary"}):r.a.createElement(w.a,{className:c.list},a.map((function(e){return r.a.createElement(ge,{key:e.id||e.kinopoisk_id,selectUrl:function(){return n(e.iframe_src||e.link)},title:e.ru_title||e.info.rus})})));return r.a.createElement("div",{className:c.root},s)},be=function e(){var t=this;Object(h.a)(this,e),this.api_token="?token=79b5e725fe2cc4cad649aa0472f2bf94",this.url="https://bazon.cc/api/search",this.getResult=function(){var e=Object(se.a)(ce.a.mark((function e(a){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.url).concat(t.api_token).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ".concat(t.url," \n \u0441\u0442\u0430\u0442\u0443\u0441: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getList=function(){var e=Object(se.a)(ce.a.mark((function e(a){var n,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="&title=".concat(a),e.next=3,t.getResult(n);case 3:return void 0!==(r=e.sent).error&&(r.results=[]),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var ye=function(e){var t=e.io,a=Object(o.c)((function(e){return e.list})),c=Object(o.c)((function(e){return e.parameters})),s=Object(o.c)((function(e){return e.loading})),i=Object(o.c)((function(e){return e.isOpenMenu})),l=Object(n.useState)(new ie),u=Object(E.a)(l,2),m=u[0],p=u[1],h=Object(o.b)(),f=function(e){h({type:"URL_SET",payload:e})};return Object(n.useEffect)((function(){t.changeUrlMessage(f),t.receiveDataMessage((function(e){return f(e.url)}))}),[]),Object(n.useEffect)((function(){m.getList.apply(m,Object(ne.a)(Object.values(c))).then((function(e){h({type:"LIST_SET",payload:e})}))}),[c,h,m]),r.a.createElement(de.a,{anchor:"left",open:i,onClose:function(){return h({type:"TOGGLE_MENU"})}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden",justifyContent:"space-between"}},r.a.createElement(fe,{parameters:c,onChangeCategory:function(e){h(U(Object.assign({},c,{category:e,page:1})))},onChangeSearch:function(e){h(U(Object.assign({},c,{search:e,page:1})))},onChangeTypeAPI:function(e){switch(e){case"vcnd":p(new ie);break;case"bazon":p(new be)}h(U(c))}}),r.a.createElement(Ee,{list:a,loading:s,onChangeUrl:function(e){t.sendUrlMessage(e)}}),r.a.createElement(ue,{currentPage:c.page,shiftPage:function(e){h(U(Object.assign({},c,{page:e})))},last_page:a.last_page})))},Oe=a(120),ke=a(126),je=a(124),we=function(e){Object(ke.a)(a,e);var t=Object(je.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).time=0,n.receiveData=function(e){n.setState({urlSrc:e.url}),n.time=e.status.time},n.changeUrl=function(e){n.setState({urlSrc:e})},n.sendMyStatus=function(e,t){n.props.io.sendStatusMessage({title:e,time:t})},n.onChangeStatus=function(e){switch(console.log(e),e.title){case"play":document.getElementById("videoFrame").contentWindow.postMessage({api:"seek",set:e.time},"*"),document.getElementById("videoFrame").contentWindow.postMessage({api:"play"},"*");break;case"pause":document.getElementById("videoFrame").contentWindow.postMessage({api:"seek",set:e.time},"*"),document.getElementById("videoFrame").contentWindow.postMessage({api:"pause"},"*");break;case"seek":n.time=e.time,document.getElementById("videoFrame").contentWindow.postMessage({api:"seek",set:e.time},"*")}},n.state={urlSrc:""},n}return Object(Oe.a)(a,[{key:"componentDidMount",value:function(){this.props.io.receiveDataMessage(this.receiveData),this.props.io.changeUrlMessage(this.changeUrl),this.props.io.changeStatusMessage(this.onChangeStatus),window.addEventListener("message",function(e){switch(e.data.event){case"time":this.time=e.data.time;break;case"play":this.sendMyStatus("play",this.time);break;case"pause":this.sendMyStatus("pause",this.time);break;case"seek":this.sendMyStatus("seek",this.time)}}.bind(this))}},{key:"render",value:function(){return r.a.createElement("iframe",{key:"videoFrame",id:"videoFrame",title:"videoFrame",src:this.state.urlSrc,frameBorder:"0",allowfullscreen:!0,referrerpolicy:"origin",style:{width:"100%",height:"100%"}})}}]),a}(r.a.Component),xe=a(254),Me=a(255),Se=a(256),_e=a(257),Ce=a(252);function Te(e){var t=e.io,a=Object(o.c)((function(e){return e.isOpenName})),c=Object(n.useRef)(null),s=Object(n.useRef)(null),i=Object(n.useState)(!1),l=Object(E.a)(i,2),u=l[0],m=l[1],p=Object(o.b)();return r.a.createElement(xe.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"dialog-title",open:a},r.a.createElement(Me.a,{id:"dialog-title"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("span",{color:"secondary"},"\u0412\u0445\u043e\u0434"))),r.a.createElement(Se.a,null,r.a.createElement(Ce.a,{style:{marginBottom:"15px"}},r.a.createElement(me.a,{inputRef:c,error:u,inputProps:{style:{textAlign:"center"}},label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",fullWidth:!0,color:"primary"}),r.a.createElement(me.a,{inputRef:s,error:u,inputProps:{maxLength:4,style:{textAlign:"center"}},label:"ID \u043a\u043e\u043c\u043d\u0430\u0442\u044b",color:"primary",fullWidth:!0}))),r.a.createElement(_e.a,null,r.a.createElement(k.a,{onClick:function(){0===c.current.value.length||s.current.value.length<4?m(!0):(t.sendUserData({name:c.current.value,room:s.current.value}),p({type:"TOGGLE_NAME"}))},color:"primary"},"\u041f\u0440\u0438\u043d\u044f\u0442\u044c")))}var Ne=a(258),Ue=a(259),Le=a(121),De=a.n(Le),Be=a(122),Re=a.n(Be),Ge=Object(g.a)({palette:{type:"dark",primary:De.a,secondary:Re.a},breakpoints:{values:{xs:0,sm:700,md:960,lg:1280,xl:1920}}}),Ie=Object(j.a)((function(e){var t,a;return{player:(t={},Object(i.a)(t,e.breakpoints.down(700),{height:"30vh"}),Object(i.a)(t,e.breakpoints.up(700),{height:"100vh"}),t),chat:(a={},Object(i.a)(a,e.breakpoints.down(700),{height:"70vh"}),Object(i.a)(a,e.breakpoints.up(700),{height:"100vh"}),a)}})),Ae=new function e(){var t=this;Object(h.a)(this,e),this.socket=d()("212.22.70.92:3000/",{transports:["websocket"],upgrade:!1}),this.reconnectServer=function(){t.socket.on("disconnect",(function(){console.log("client disconnect"),t.socket.open()}))},this.sendDataMessage=function(e){t.socket.emit("data_message",e)},this.receiveDataMessage=function(e){t.socket.on("data_message",(function(t){e(t)}))},this.sendUrlMessage=function(e){t.socket.emit("change_url",e)},this.changeUrlMessage=function(e){t.socket.on("change_url",(function(t){e(t)}))},this.sendStatusMessage=function(e){t.socket.emit("change_status",e)},this.changeStatusMessage=function(e){t.socket.on("change_status",(function(t){e(t)}))},this.sendMessageText=function(e){t.socket.emit("message",e)},this.sendUserData=function(e){t.socket.emit("set_user_data",e)},this.receiveID=function(e){t.socket.on("set_id",(function(t){e(t)}))},this.receiveMessageText=function(e){t.socket.on("message",(function(t){e(t)}))},this.receiveUserList=function(e){t.socket.on("change_users",(function(t){e(t)}))},this.receiveRoomList=function(e){t.socket.on("change_rooms",(function(t){e(t)}))}};var Pe=function(){var e=Ie();return r.a.createElement(o.a,{store:p},r.a.createElement(Ne.a,{theme:Ge},r.a.createElement(Ue.a,null),r.a.createElement(Te,{io:Ae}),r.a.createElement(v.a,{container:!0},r.a.createElement(ye,{io:Ae}),r.a.createElement(v.a,{className:e.player,item:!0,xl:10,lg:9,sm:8,xs:12},r.a.createElement(we,{io:Ae})),r.a.createElement(v.a,{className:e.chat,item:!0,xl:2,lg:3,sm:4,xs:12},r.a.createElement(ae,{io:Ae})))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pe,null)),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.428e9d0b.chunk.js.map